<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Primitivas</title>
		<style>
			canvas {
				border: 1px solid black;
			}
			body{
				width: 500px;
				margin: auto;
			}
		</style>
	</head>
	<body>
	<h1>Primitivas</h1>
	<canvas width="498" height="300">
		Seu navegador n√£o tem suporte ao canvas!
		Atualize seu navegador.
	</canvas>
	<script>
		var tela = document.getElementsByTagName("canvas")[0];
		var ctx = tela.getContext("2d");
		var fps = 50;
		var dt = 1/fps;
 		var x = 110;
 		var y = 115;
 		var vx = 0;
 		var ax = 0;
 		var vy = 0;
 		var ay = 0;
 		


 		function mover(){
 			vx = vx + ax*dt;
 			x = x + vx*dt;
 			vy = vy + ay*dt;
 			y = y + vy*dt;
 		}
 		function desenhar(){
 			ctx.clearRect(0,0, tela.width, tela.height);

			ctx.fillStyle = "rgb(250, 200, 200)";
			ctx.strokeStyle = "rgb(150, 50, 50)";
			ctx.lineWidth = 3;

			ctx.beginPath();
			ctx.arc(x, y, 15, 0, 2*Math.PI);
			ctx.closePath();
			ctx.fill();
			ctx.stroke();
		}
		function passo(){
			mover();
			restricoes();
			desenhar();
		}

		function restricoes(){
			if(x<15){
				x = 15;
				vx = 0;
				ax = 0;
			}
			if(x>tela.width-15) {
				x=tela.width-15;
				vx = 0;
				ax = 0;
			}
			if(y<15){
				y = 15;
				vy = 0;
				ay = 0;
			}
			if(y>tela.height-15) {
				y=tela.height-15;
				vy = 0;
				ay = 0;
			}
		}

		function teclaPressionada(e){
			console.log("Tecla Pressionada: " + e.keyCode);
			switch(e.keyCode){
				case 37:
					ax = -300;					
				break;
				case 39:
					ax = 300;					
				break;
				case 38:
					ay = -300;					
				break;
				case 40:
					ay = 300;					
				break;
			}

		}

		function teclaSolta(e){
			console.log("Tecla Solta: " + e.keyCode);
			switch(e.keyCode){
				case 37:
				case 39:
					ax = 0;					
				break;
				case 38:
				case 40:
					ay = 0;					
				break;
			}
		}

		setInterval(passo, 1000/fps);
		addEventListener("keydown", teclaPressionada);
		addEventListener("keyup", teclaSolta);



	</script>
	</body>
</html>






